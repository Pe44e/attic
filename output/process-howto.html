
<h1 id="attic-process-how-to">Attic Process: How To</h1>
<hr />

<p class="fs-5">The sections below describe <em>How To</em> complete the various tasks to be done by Attic team for retiring a project and moving it to The Apache Attic:</p>

<ul>
  <li><a href="#1-confirm-board-resolution">1. Confirm Board Resolution</a></li>
  <li><a href="#2-create-project-page-on-attic-site">2. Create project page on Attic site:</a></li>
  <li><a href="#3-inform-users-of-the-move-to-the-attic">3. Inform users of the move to the Attic</a></li>
  <li><a href="#4-update-the-project-doap-file-if-any">4. Update the project DOAP file (if any):</a></li>
  <li><a href="#5-get-infra-lock-down-projects-resources">5. Get infra lock down project’s resources</a></li>
  <li><a href="#6-announce-on-announceapacheorg">6. Announce on announce@apache.org</a></li>
</ul>

<p>The following are useful Git/svn/https locations:</p>

<ul>
  <li>Attic site <a href="https://github.com/apache/attic">source</a></li>
  <li><a href="https://issues.apache.org/jira/browse/ATTIC">ATTIC Jira</a></li>
  <li>permissions on svn <a href="https://github.com/apache/infrastructure-p6/blob/production/modules/subversion_server/files/authorization/asf-authorization-template#L231">/repos/asf</a>
and <a href="https://github.com/apache/infrastructure-p6/blob/production/modules/subversion_server/files/authorization/pit-authorization-template">/repos/infra</a></li>
  <li>websites <a href="https://github.com/apache/infrastructure-p6/blob/production/modules/svnwcsub/files/svnwcsub.conf">svnpubsub</a> and
<a href="https://infra-reports.apache.org/#sitesource">infra-reports#sitesource</a></li>
</ul>

<h2 id="1-confirm-board-resolution">1. Confirm Board Resolution</h2>

<p>Check previous Board minutes to confirm the “terminate” resolution passed. The minutes are available from the following sources:</p>

<ul>
  <li>The private <a href="https://lists.apache.org/list.html?committers@apache.org:lte=2M:ASF%20Board%20Meeting">committers@a.o mailing list</a> (requires login)</li>
  <li>Previously published <a href="https://www.apache.org/foundation/board/calendar.html">Board meeting minutes</a></li>
  <li>Whimsy has a public list of <a href="https://whimsy.apache.org/board/minutes/">Board Minutes by topic</a></li>
</ul>

<p>However note that the most recent meeting minutes are not published until the following meeting at the earliest.</p>

<p>Check that Secretary removed the PMC from <a href="https://svn.apache.org/repos/private/committers/board/committee-info.txt">https://svn.apache.org/repos/private/committers/board/committee-info.txt</a>
(see also <a href="https://lists.apache.org/list.html?committers-cvs@apache.org">commits history</a>).</p>

<p>This automatically removes VP entry on <a href="https://www.apache.org/foundation/leadership">https://www.apache.org/foundation/leadership</a>
(<a href="https://github.com/apache/www-site/blob/main/content/foundation/leadership.ezmd">src</a>) and project from
<a href="https://www.apache.org/#projects-list">https://www.apache.org/#projects-list</a> navigation
(<a href="https://github.com/apache/www-site/blob/main/content/index.ezmd#L304">src</a>): see <a href="https://github.com/apache/www-site">www-site</a>
and its rendered HTML in <a href="https://github.com/apache/www-site/tree/asf-site">asf-site</a> branch.</p>

<h2 id="2-create-project-page-on-attic-site">2. Create project page on Attic site:</h2>
<p><strong>https://attic.apache.org/projects/${project}.html</strong></p>

<p>You can create a PR for the <code class="language-plaintext highlighter-rouge">$project.yaml</code> file using the GitHub Action
<a href="https://github.com/apache/attic/actions/workflows/retire.yml">Generate PR to add _data/projects/pid.yaml file</a>.</p>

<p>Click on ‘Run workflow’ and enter the lower case project id.
If the id is valid, the workflow will create a PR to add the YAML file.</p>

<p>Once the PR has been checked and applied, the site will be regenerated.
The project details will be found at https://attic.apache.org/projects/$project.html
and associated retirement WIP templates at https://attic.apache.org/templates/$project.html</p>

<p>A sample Attic Jira template can be found on that page.</p>

<p>Once the page is live and Jira issue is created, follow steps and update issue state:</p>
<ul>
  <li>Check the project site carries the <strong>Attic Banner</strong></li>
  <li>Check any CWIKI spaces carry the  <strong>Attic Banner</strong></li>
  <li>Use the project’s <a href="/tracking.html">Template Page</a> to help with:
    <ul>
      <li>Creating the Attic JIRA</li>
      <li>Templates for User &amp; Announcement Emails</li>
    </ul>
  </li>
</ul>

<h2 id="3-inform-users-of-the-move-to-the-attic">3. Inform users of the move to the Attic</h2>

<p>Once the project page is live on the Attic website, you can use the project’s
<a href="/tracking.html">Template Page</a> to get a project specific text for the
User email.</p>

<p>The text will be based on the following template, replaced with project specific values.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>A heads up for the ${project} user community that the ${project} PMC has
been 'moved to the Attic'. This means that the ${project} developers (more
formally its Project Management Committee) have voted to retire ${project} 
and move the responsibility for its oversight over to the Attic project.

Loosely speaking this means that the projects resources will be moved to a
read-only state.

You can read more about the Apache Attic and the process of moving to the
Attic at https://attic.apache.org.

You can follow this process in JIRA:

https://issues.apache.org/jira/browse/ATTIC-${#}

Thanks,

${NAME}
on behalf of ${project} project and the Apache Attic.
</code></pre></div></div>

<p>Remember to <a href="https://www.apache.org/foundation/mailinglists.html">subscribe</a> to the user
list: use <a href="https://whimsy.apache.org/committers/subscribe">Whimsy Mailing List Self-subscription</a>
to avoid moderation (if the project hasn’t been removed yet).</p>

<p>Also bear in mind that the user mailing list may already know and you can skip this stage,
or you can get help from project having asked to move to the Attic. Make sure you read that 
thread if it does exist.</p>

<h2 id="4-update-the-project-doap-file-if-any">4. Update the project DOAP file (if any):</h2>
<p><strong>https://projects.apache.org/project.html?${project}</strong></p>

<p>The DOAP files (used for <a href="https://projects.apache.org/projects.html">projects directory</a>) are referenced
in <a href="https://github.com/apache/comdev-projects/blob/trunk/data/projects.xml">projects.apache.org <code class="language-plaintext highlighter-rouge">data/projects.xml</code></a>,
which every Apache committer can update (in <a href="https://svn.apache.org/repos/asf/comdev/projects.apache.org/trunk/data">svn</a>).</p>

<p>Identify whether the project being terminated has a DOAP <code class="language-plaintext highlighter-rouge">.rdf</code> file,
and update the DOAP <code class="language-plaintext highlighter-rouge">.rdf</code> file:</p>
<ol>
  <li>change PMC to the Attic,</li>
  <li>add <a href="https://projects.apache.org/projects.html?category#retired"><em>retired</em></a> category (keep original categories, as they remain valid for the project)</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pmc change:    &lt;asfext:pmc rdf:resource="http://attic.apache.org" /&gt;
add category:  &lt;category rdf:resource="http://projects.apache.org/category/retired" /&gt;
</code></pre></div></div>

<p>You can use <code class="language-plaintext highlighter-rouge">script/project2attic.py</code> to prepare the update that you’ll just need to
review and commit.</p>

<h2 id="5-get-infra-lock-down-projects-resources">5. Get infra lock down project’s resources</h2>

<p>Open an <a href="https://issues.apache.org/jira/browse/INFRA">Infrastructure JIRA</a> issue identifying
the resources that need turning off/making read only.</p>

<p>Once the project page is live on the Attic website, you can use the project’s
<a href="/tracking.html">Template Page</a> to get project specific content for
the Infrastructure JIRA.</p>

<p>Typically, it contains steps like following, that need to be tweaked based on assets of the retired project:</p>

<ul>
  <li>Make source control Git|Svn read-only</li>
  <li>Remove files from <a href="https://dist.apache.org/repos/dist/">dist.apache.org/repos/dist/[release|dev]</a></li>
  <li>Closing down of dev@, commits@ and private@ etc. <a href="https://lists.apache.org/">mailing lists</a></li>
  <li>Close down the user mailing list (unless still active - in which case propose a moderator to Infra)</li>
  <li>Make JIRA|Bugzilla read-only</li>
  <li>Make the wiki (if any) read-only</li>
  <li>Delete LDAP group(s)</li>
  <li>Turn off automated builds</li>
</ul>

<h2 id="6-announce-on-announceapacheorg">6. Announce on announce@apache.org</h2>

<p>Announce that the project <a href="https://lists.apache.org/list?announce@apache.org:lte=1M:%22is%20now%20retired%22">is now retired</a>.</p>

<p>Once the project page is live on the Attic website, you can use the project’s
<a href="/tracking.html">Template Page</a> to get a project specific text for the
Announcement email.</p>

<p>The text will be based on the following template, replaced with project specific values.</p>

<p>Sometimes, the user mailing list will not be shut down. If that is the case,
it should be mentioned in the announce. e.g. add “The user mailing list remains open.”
after “change in url.” below.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Announcing that the ${project} committers have voted to retire
the project due to inactivity. ${project} was {boilerplate}.

Retiring a project is not as simple as turning everything off, as
existing users need to both know that the project is retiring and
retain access to the necessary information for their own development
efforts.

You can read more about ${project}'s retirement at:

   https://attic.apache.org/projects/${project}.html

The project's resources will continue to be available in a read-only state -
website, mailing lists, wikis, git, downloads and bug tracker with no 
change in url.

Providing process and solutions to make it clear when an Apache
project has reached its end of life is the role of the Apache Attic,
and you can read more about that at:

   https://attic.apache.org/

Thanks,

${NAME}
on behalf of the Apache Attic and the now retired ${project} project
</code></pre></div></div>

<p>It’s important to include the boilerplate from the project’s site so people know what we’re talking about.</p>
